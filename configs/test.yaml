# 测试配置 - 快速验证训练流程
# 用于本地测试，不需要 GPU

model:
  type: 'unet3d_lite'  # 使用轻量级模型
  in_channels: 1
  out_channels: 1

data:
  train_dir: 'data/processed/train'
  val_dir: 'data/processed/val'
  patch_size: [32, 32, 32]  # 小 patch，快速训练
  
training:
  batch_size: 1
  accumulation_steps: 1
  epochs: 3  # 只训练 3 个 epoch
  learning_rate: 0.001
  weight_decay: 0.00001
  num_workers: 2  # 少量 workers
  prefetch_factor: 2
  save_frequency: 1
  checkpoint_dir: 'models/checkpoints_test'

# 使用标准损失（快速测试）
loss:
  type: 'dice_bce'

optimizer:
  type: 'adamw'
  betas: [0.9, 0.999]
  eps: 0.00000001

scheduler:
  type: 'cosine'
  T_max: 3

augmentation:
  random_flip: true
  random_rotation: 15
  elastic_deformation: false  # 禁用以加快速度
  intensity_shift: 0.1

# 不启用复杂功能（快速测试）
postprocessing:
  enabled: false

evaluation:
  use_vesuvius_metrics: false  # 禁用以加快速度

logging:
  use_wandb: false  # 本地测试不需要 WandB
  project: 'vesuvius-challenge-test'
  log_frequency: 5

inference:
  patch_size: [32, 32, 32]
  overlap: 0.25
  tta: false
  batch_size: 2
  use_postprocessing: false
